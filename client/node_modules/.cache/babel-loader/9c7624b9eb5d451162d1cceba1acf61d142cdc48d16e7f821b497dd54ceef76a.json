{"ast":null,"code":"var _jsxFileName = \"/Users/dilrajrandhawa/Projects/GitHub/Unifynd/src/PrivateRoute.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = ({\n  children\n}) => {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const location = useLocation();\n  useEffect(() => {\n    fetch(\"http://localhost:3001/login\").then(res => {\n      if (!res.ok) {\n        throw new Error(\"Failed to fetch user data\");\n      }\n      return res.json();\n    }).then(data => {\n      const userId = data;\n      if (userId) {\n        setIsAuthenticated(true);\n      }\n    }).catch(error => console.error(\"Error fetching data:\", error));\n  }, []);\n  if (isAuthenticated) {\n    return children;\n  } else {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  }\n};\n_s(PrivateRoute, \"whLl+38E7ub8R5l5bdVAfFlsuKk=\", false, function () {\n  return [useLocation];\n});\n_c = PrivateRoute;\nexport default PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["React","useState","useEffect","Navigate","useLocation","jsxDEV","_jsxDEV","PrivateRoute","children","_s","isAuthenticated","setIsAuthenticated","location","fetch","then","res","ok","Error","json","data","userId","catch","error","console","to","state","from","replace","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/dilrajrandhawa/Projects/GitHub/Unifynd/src/PrivateRoute.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\n\nconst PrivateRoute = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    fetch(\"http://localhost:3001/login\")\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(\"Failed to fetch user data\");\n        }\n        return res.json();\n      })\n      .then((data) => {\n        const userId = data;\n        if (userId) {\n          setIsAuthenticated(true);\n        }\n      })\n      .catch((error) => console.error(\"Error fetching data:\", error));\n  }, []);\n\n  if (isAuthenticated) {\n    return children;\n  } else {\n    return <Navigate to=\"/\" state={{ from: location }} replace />;\n  }\n};\n\nexport default PrivateRoute;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACrC,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAMW,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACdW,KAAK,CAAC,6BAA6B,CAAC,CACjCC,IAAI,CAAEC,GAAG,IAAK;MACb,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;QACX,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;MAC9C;MACA,OAAOF,GAAG,CAACG,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,IAAK;MACd,MAAMC,MAAM,GAAGD,IAAI;MACnB,IAAIC,MAAM,EAAE;QACVT,kBAAkB,CAAC,IAAI,CAAC;MAC1B;IACF,CAAC,CAAC,CACDU,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC,CAAC;EACnE,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIZ,eAAe,EAAE;IACnB,OAAOF,QAAQ;EACjB,CAAC,MAAM;IACL,oBAAOF,OAAA,CAACH,QAAQ;MAACqB,EAAE,EAAC,GAAG;MAACC,KAAK,EAAE;QAAEC,IAAI,EAAEd;MAAS,CAAE;MAACe,OAAO;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC/D;AACF,CAAC;AAACtB,EAAA,CA1BIF,YAAY;EAAA,QAECH,WAAW;AAAA;AAAA4B,EAAA,GAFxBzB,YAAY;AA4BlB,eAAeA,YAAY;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}